<div class="language-selector">
    <label for="language-select" class="screen-reader-text"></label>
    <select id="language-select" class="language-dropdown" onchange="changeLanguage(this.value)">
        <option value="ru" {{ if eq .Site.Language.Lang "ru" }}selected{{ end }}>Русский</option>
        <option value="de" {{ if eq .Site.Language.Lang "de" }}selected{{ end }}>Deutsch</option>
        <option value="en" {{ if eq .Site.Language.Lang "en" }}selected{{ end }}>English</option>
    </select>
</div>

<script>
    function changeLanguage(lang) {
        if (lang === "ru") {
            window.location.href = "/";
        } else {
            window.location.href = "/" + lang + "/";
        }
    }
</script>

<style>
    .language-selector {
        position: relative;
        display: inline-block;
    }

    .language-dropdown {
        appearance: none;
        background: #fff;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 0.5rem 2rem 0.5rem 0.75rem;
        font-size: 0.9rem;
        cursor: pointer;
        min-width: 120px;
        background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
        background-repeat: no-repeat;
        background-position: right 0.5rem center;
        background-size: 1rem;
    }

    .language-dropdown:hover {
        border-color: #999;
    }

    .language-dropdown:focus {
        outline: none;
        border-color: #007cba;
        box-shadow: 0 0 0 2px rgba(0,124,186,0.2);
    }

    @media (prefers-color-scheme: dark) {
        .language-dropdown {
            background: #333;
            color: #fff;
            border-color: #555;
        }

        .language-dropdown:hover {
            border-color: #777;
        }
    }

    @media (max-width: 768px) {
        .language-dropdown {
            min-width: 100px;
            font-size: 0.8rem;
            padding: 0.4rem 1.5rem 0.4rem 0.6rem;
        }
    }
</style>
